{% extends 'base.html' %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    {% macro stat_card(label, value, icon, color='gold-500') %}
    <div class="bg-white p-6 rounded-xl border border-stone-100 shadow-sm flex items-center justify-between">
        <div><p class="text-sm text-stone-500 mb-1">{{ label }}</p><h3 class="text-3xl font-serif font-bold text-charcoal-900">{{ value }}</h3></div>
        <div class="w-12 h-12 bg-cream-50 rounded-full flex items-center justify-center text-{{ color }}"><i data-lucide="{{ icon }}" class="w-6 h-6"></i></div>
    </div>
    {% endmacro %}
    {{ stat_card('Total Undangan', total, 'mail') }}
    {{ stat_card('Tamu Hadir', hadir, 'user-check', 'charcoal-900') }}
    {{ stat_card('VIP Guest', vip, 'crown') }}
    {{ stat_card('Est. Durasi', '02:30', 'clock') }}
</div>

<div class="bg-white rounded-xl border border-stone-100 shadow-sm overflow-hidden">
    <div class="p-6 border-b border-stone-100 flex justify-between items-center">
        <h3 class="font-serif font-bold text-lg text-charcoal-900">Live Check-in Feed</h3>
        <a href="/tamu" class="text-sm text-gold-600 hover:text-gold-700 font-medium">Lihat Semua</a>
    </div>
    <table class="w-full text-left text-sm">
        <thead class="bg-stone-50 text-stone-500"><tr><th class="px-6 py-3">Nama</th><th class="px-6 py-3">Kategori</th><th class="px-6 py-3">Waktu</th><th class="px-6 py-3">Status</th></tr></thead>
        <tbody class="divide-y divide-stone-100">
            {% for t in latest %}
            <tr class="hover:bg-cream-50/50">
                <td class="px-6 py-4 font-medium">{{ t.nama }}</td>
                <td class="px-6 py-4"><span class="px-2 py-1 bg-stone-100 text-stone-600 text-xs rounded-md">{{ t.kategori }}</span></td>
                <td class="px-6 py-4 text-stone-500">{{ t.waktu_checkin.strftime('%H:%M') }}</td>
                <td class="px-6 py-4 text-green-600 font-bold flex items-center gap-1"><i data-lucide="check-circle-2" class="w-3 h-3"></i> Hadir</td>
            </tr>
            {% else %}<tr><td colspan="4" class="text-center p-4 text-stone-400">Belum ada aktivitas.</td></tr>{% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}